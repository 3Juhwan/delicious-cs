## IP 주소

> IP 주소는 TCP/IP 네트워크에서 호스트를 구별하는 32비트 숫자다. 

여기서 호스트는 컴퓨터 또는 프린터나 라우터 등의 기기를 의미한다. 

```
192.168.123.132 (Decimal)
```

IP 주소의 32비트를 8비트 단위로 나누고, 한 섹션을 옥텟이라고 한다. 

<br>

> IP 주소의 앞부분은 네트워크 주소로 뒷부분은 호스트 주소로 사용한다.

호스트 주소는 각 라우터가 브로드캐스팅하는 public IP 대역을 구분할 수 있는 주소다. 

호스트는 특정 네트워크에 속해 있다. 네트워크 간 데이터 패킷을 전달하는 라우터는 호스트가 구성원인 네트워크만 안다. 

라우터는 라우팅 테이블에 저장된 정보를 사용하여 패킷을 대상 호스트의 네트워크로 전달한다. 패킷이 목적지의 네트워크로 전달된 후 패킷은 적절한 호스트로 전달된다.

```
192.168.123.132 - IP 주소
192.168.123.0   - Network 주소
0.0.0.132       - Host 주소
```


## 서브넷 마스크

> IP 주소에서 네트워크와 호스트 주소를 분리하기 위한 32비트 정보다. 

```
11000000.10101000.01111011.10000100 - IP 주소(192.168.123.132)
11111111.11111111.11111111.00000000 - 서브넷 마스크(255.255.255.0)

11000000.10101000.01111011.00000000 - 네트워크 주소(192.168.123.0)
00000000.00000000.00000000.10000100 - 호스트 주소(000.000.000.132)
```


## 네트워크 클래스

> IP 주소는 클래스로 나뉘어 있다. 각 클래스는 서로 다른 기본 서브넷 마스크가 있다. 

일반적인 클래스는 A, B, C가 있고, D와 E도 존재한다. 

- 클래스 A 네트워크는 기본 서브넷 마스크로 255.0.0.0을 사용하고 첫 번째 옥텟은 0-127다. 주소 10.52.36.11은 클래스 A 주소다. 첫 번째 옥텟은 10이며 1과 126 사이다. 이것은 첫 번째 옥텟이 0으로 시작하는 주소를 의미한다. 

- 클래스 B 네트워크는 기본 서브넷 마스크로 255.255.0.0을 사용하고 첫 번째 옥텟이 128-191다. 주소 172.16.52.63은 클래스 B 주소다. 첫 번째 옥텟은 172이며 128에서 191 사이다. 이것은 첫 번째 옥텟이 10로 시작하는 주소를 의미한다. 

- 클래스 C 네트워크는 기본 서브넷 마스크로 255.255.255.0을 사용하고 첫 번째 옥텟이 192-223다. 주소 192.168.123.132는 클래스 C 주소다. 첫 번째 옥텟은 192이며 192와 223 사이다. 이것은 첫 번째 옥텟이 11로 시작하는 주소를 의미한다. 


## 서브넷

> 서브넷은 네트워크를 여러 개로 쪼갠 것이다. 

3개의 네트워크에 150개의 호스트가 존재하고, 클래스 C 네트워크인 192.168.123.0가 할당됐다고 가정하자. 즉, 192.168.123.1~192.168.123.254 사이의 주소를 사용할 수 있다. 

150개의 호스트가 한 네트워크에 존재하면 문제가 없지만, 50개씩 3개의 네트워크에 존재한다. 할당 받은 네트워크를 4개의 서브넷으로 나눠서 각 네트워크에 할당해야 한다. 

이때, 서브넷 마스크를 사용한다. 서브넷 마스크 255.255.255.192은 4개의 서브넷을 제공할 수 있다. 

- 192.168.123.1 ~ 62
- 192.168.123.65 ~ 126
- 192.168.123.129 ~ 190
- 192.168.123.193 ~ 254

2개의 호스트 주소 192.168.123.71과 192.168.123.133을 보면 작동 방식을 알 수 있다. 기본 클래스 C 서브넷 마스크 255.255.255.0을 사용한 경우 두 주소 모두 192.168.123.0 네트워크에 있다. 하지만, 서브넷 마스크 255.255.255.192를 사용하는 경우 서로 다른 네트워크에 있다. 192.168.123.71은 192.168.123.64 네트워크에 있고 192.168.123.133은 192.168.123.128 네트워크에 있다.


*호스트 ID 부분이 모두 0이거나 1인 주소는 호스트를 지정하는 데에 사용하지 않고 네트워크를 지정하는 데에 사용한다. 위 예에서 마지막 옥텟이 0, 63, 64, 127, 128, 191, 192, 255인 주소는 사용할 수 없다. 특히, 255는 모든 호스트에게 브로드캐스팅하는 주소이다. 


> 로컬 네트워크는 하나의 라우터를 거쳐가는 여러개의 호스트들이 연결된 브로드캐스트 영역이다. 

로컬 네트워크 내의 모든 호스트의 주소는 IP 주소의 네트워크 부분은 같아야 하고 호스트 부분은 달라야 한다. 


## 게이트웨이

> 기본 게이트웨이는 일반적으로 내부 네트워크를 외부 네트워크(인터넷)에 연결하는 라우터의 IP 주소다.

Wi-Fi 라우터가 집이나 회사에서 많이 사용하는 게이트웨이다. 

게이트웨이와 라우터를 혼동할 수 있다. 게이트웨이는 네트워크를 연결하는 역할을 하고, 라우터는 네트워크 안에서 데이터를 전송하는 역할을 한다. 과거에는 분리된 장치였지만, 현재는 합쳐진 형태로 라우터라고 부른다. 


## Unicast, Broadcast and Multicast
송신 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전송되는 방식을 의미한다.


## CIDR



## Public IP, Private IP


## 포트포워딩

> 포트포워딩이란 내부 네트워크의 포트와 인터넷의 포트를 연결시켜 서로 통신할 수 있도록 열어주는 것이다. 

포트포워딩은 컴퓨터 네트워크 상에서 패킷이 방화벽이나 라우터 같은 네트워크 게이트를 지날 때 IP 주소와 포트 번호 결합의 통신 요청을 다른 곳으로 넘겨주는 네트워크 주소 변환의 응용이라고 볼 수 있다. 


## Reference

- https://learn.microsoft.com/ko-kr/troubleshoot/windows-client/networking/tcpip-addressing-and-subnetting
- https://www.cisco.com/c/en/us/products/routers/what-is-a-network-gateway.html
- https://aws.amazon.com/ko/what-is/cidr/